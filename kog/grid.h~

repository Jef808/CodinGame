#ifndef GRID_H_
#define GRID_H_

#include <cassert>
#include <array>
#include <vector>

#include "tile.h"

namespace kog {

struct Grid {
  [[nodiscard]] int index_of(int x, int y) const {
    return x + width * y;
  }

  [[nodiscard]] int index_of(const Tile& tile) const {
    return index_of(tile.x, tile.y);
  }

  [[nodiscard]] const Tile& at(int index) const {
    return tiles[index];
  }

  void debug(std::ostream& stream, int index) const {
    stream << tiles[index] << std::endl;
  }

  int width{0};
  int height{0};
  std::vector<Tile> tiles;
  std::vector<std::vector<int>> neighbours;
};

} // namespace kog

#endif // GRID_H_
